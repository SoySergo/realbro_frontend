# –ò—Ç–æ–≥–∏: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–∫–æ–≤ –¥–ª—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–∫–æ–≤
- **–§–∞–π–ª**: `src/shared/api/mocks/properties-mock.ts`
- **–†–∞–∑–º–µ—Ä**: ~480 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- **–§—É–Ω–∫—Ü–∏–∏**:
  - `generateMockProperty()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
  - `generateMockProperties()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞
  - `generateMockPropertiesPage()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
  - `generateMockClusterProperties()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `MockPropertyConfig` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
  - 9 –ª–æ–∫–∞–ª–µ–π (ru, en, es, ca, fr, it, pt, de, uk)
  - 4 —Ç–∏–ø–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ (grid, horizontal, sidebar, detail)
  - –ì–∏–±–∫–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª–µ–π

### 3. –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **14 —Ä–∞–π–æ–Ω–æ–≤ –ë–∞—Ä—Å–µ–ª–æ–Ω—ã** –¥–ª—è –∞–¥—Ä–µ—Å–æ–≤
- **10 —É–ª–∏—Ü** —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
- **5 –∞–≤—Ç–æ—Ä–æ–≤** —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ (agent, owner, agency)
- **10+ —Å—Ç–∞–Ω—Ü–∏–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞** (–º–µ—Ç—Ä–æ, –ø–æ–µ–∑–¥, –∞–≤—Ç–æ–±—É—Å)
- **5 –∫–æ–ª–ª–µ–∫—Ü–∏–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** (–ø–æ 6 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –∫–∞–∂–¥–æ–π)
- **–õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è** –Ω–∞ 5 —è–∑—ã–∫–∞—Ö (ru, en, es, ca, fr)

### 4. Feature flags
- **–§–∞–π–ª**: `src/shared/config/features.ts`
- `USE_MOCK_PROPERTIES` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ true –≤ development
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —è–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ `NEXT_PUBLIC_USE_MOCK_PROPERTIES`

### 5. –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã
- ‚úÖ `src/shared/api/properties.ts` - –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π API
- ‚úÖ `src/shared/api/properties-server.ts` - —Å–µ—Ä–≤–µ—Ä–Ω—ã–π API
- ‚úÖ `src/app/api/chat/messages/[conversationId]/route.ts` - —á–∞—Ç API
- ‚úÖ `src/app/api/chat/ai-properties/route.ts` - AI —Å–≤–æ–π—Å—Ç–≤–∞
- ‚úÖ `src/shared/api/mocks/index.ts` - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç
- ‚úÖ `src/shared/config/index.ts` - –¥–æ–±–∞–≤–ª–µ–Ω —ç–∫—Å–ø–æ—Ä—Ç features

### 6. –£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Ñ—É–Ω–∫—Ü–∏–∏
- ‚ùå `generateMockProperties()` –∏–∑ `properties.ts` (140+ —Å—Ç—Ä–æ–∫)
- ‚ùå `generateMockProperties()` –∏–∑ `properties-server.ts` (140+ —Å—Ç—Ä–æ–∫)
- ‚ùå `generateProperty()` –∏–∑ chat API routes (40+ —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥–∞—è)

**–ò—Ç–æ–≥–æ —É–¥–∞–ª–µ–Ω–æ**: ~360 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞ ‚ú®

### 7. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–§–∞–π–ª**: `docs/api/mocks-system.md`
- –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–∞—Ä—Ç–æ—á–µ–∫
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—é –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```
–°–æ–∑–¥–∞–Ω–æ —Ñ–∞–π–ª–æ–≤:    3
–ò–∑–º–µ–Ω–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:   7
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:      1

–î–æ–±–∞–≤–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫:   ~527
–£–¥–∞–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫:     ~335
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

1. **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã**
   - –í—Å–µ –º–æ–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∏–∑ –æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
   - –ù–µ—Ç —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏

2. **–ì–∏–±–∫–æ—Å—Ç—å –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å**
   - –õ–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –∫–∞—Ä—Ç–æ—á–µ–∫
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–∑ –∫–æ—Ä–æ–±–∫–∏
   - –ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤–∫–ª—é—á–∞–µ–º—ã–º–∏ –ø–æ–ª—è–º–∏

3. **–õ–µ–≥–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API**
   - –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å feature flag
   - –ò–ª–∏ —É–±—Ä–∞—Ç—å fallback –≤ catch –±–ª–æ–∫–∞—Ö
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ —Ç—Ä–µ–±—É—é—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

4. **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
   - –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ TypeScript
   - –í—Å–µ —Ç–∏–ø—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∏–∑ `@/entities/property`
   - –ù–∏–∫–∞–∫–∏—Ö `any` —Ç–∏–ø–æ–≤

5. **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**
   - –ù–∞—Å—Ç–æ—è—â–∏–µ –∞–¥—Ä–µ—Å–∞ –ë–∞—Ä—Å–µ–ª–æ–Ω—ã
   - –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –ü—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–Ω—ã–µ —Ü–µ–Ω—ã –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

## üîß –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–ª—è –ª–∏—Å—Ç–∏–Ω–≥–∞ (grid –∫–∞—Ä—Ç–æ—á–∫–∏)
```typescript
import { generateMockPropertiesPage } from '@/shared/api/mocks';

const result = generateMockPropertiesPage(1, 20, 500, {
    cardType: 'grid',
    includeAuthor: true,
    includeTransport: true
});
```

### –î–ª—è —á–∞—Ç–∞ (horizontal –∫–∞—Ä—Ç–æ—á–∫–∏)
```typescript
import { generateMockProperty } from '@/shared/api/mocks';

const property = generateMockProperty(0, {
    cardType: 'horizontal',
    locale: 'ru'
});
```

### –î–ª—è –∫–∞—Ä—Ç—ã (sidebar –∫–∞—Ä—Ç–æ—á–∫–∏)
```typescript
const property = generateMockProperty(0, {
    cardType: 'sidebar'  // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø–æ–ª–µ–π
});
```

### –î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```typescript
const property = generateMockProperty(0, {
    cardType: 'detail',
    locale: 'ru',
    includeRentalConditions: true,
    includeTenantPreferences: true,
    includeBuilding: true
});
```

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º backend**
   - –ö–æ–≥–¥–∞ API –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤, –ø—Ä–æ—Å—Ç–æ –ø–æ–º–µ–Ω—è–π—Ç–µ feature flag
   - –ò–ª–∏ —É–±–µ—Ä–∏—Ç–µ fallback –∏–∑ catch –±–ª–æ–∫–æ–≤

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –ª–∏—Å—Ç–∏–Ω–≥–∞
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ map sidebar
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —á–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

3. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏**
   - –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ –ª–æ–∫–∞–ª–∏ –≤ `DESCRIPTIONS`
   - –†–∞—Å—à–∏—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ `MOCK_AUTHORS`
   - –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

## ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å **—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è, –≥–∏–±–∫–∞—è –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–∫–æ–≤**, –∫–æ—Ç–æ—Ä–∞—è:
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é
- –õ–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Å–ª—É—á–∞–∏
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API
- –£—Å—Ç—Ä–∞–Ω—è–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

**–í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!** üéâ
