# TilesTestMap

**Что делает**: Компонент для тестирования и отладки отображения полигонов из Cloudflare R2 тайлов (PBF формат).

**Ключевые особенности**:
- Отображает ВСЕ полигоны из R2 тайлов без фильтрации по зуму
- Яркая цветовая схема для различных административных уровней
- Полный вывод всех свойств при клике на полигон
- Детальное логирование в консоль для отладки
- Компактная информационная панель в правом верхнем углу

**Цветовая схема**:
- **#ff6b6b** (Красный): admin_level=4 (Регион - Каталония)
- **#4ecdc4** (Бирюзовый): admin_level=6 (Провинции)
- **#45b7d1** (Синий): admin_level=8 (Муниципалитеты)
- **#ffe66d** (Жёлтый): Другие уровни

**Источник данных**: Cloudflare R2  
- Формат тайлов: `map-tiles/tiles/{z}/{x}/{y}.pbf`
- Source layer: `boundaries`
- Минимальный зум: 0
- Максимальный зум: 14

**Конфигурация**:
- URL тайлов: `NEXT_PUBLIC_R2_TILES_URL` (env переменная)
- Fallback URL: хардкодный R2 bucket URL
- Начальная позиция: Центр Каталонии (1.5, 41.5)
- Начальный зум: 7 (оптимально для просмотра региона)

**Интерактивность**:
- Клик на полигон показывает popup со ВСЕМИ свойствами feature
- Курсор меняется на pointer при наведении
- Все данные дублируются в консоль для отладки

**Отладка**:
- Все события загрузки тайлов логируются в консоль
- Подсчёт количества загруженных features
- Вывод примера первого feature после загрузки
- Обработка и логирование ошибок карты

**Файл**: `src/components/features/map/TilesTestMap.tsx`  
**Страница**: `/tiles-test`
